N = int(input())

# 처음에 주어지는 원판 정리

K = 0 # 옮긴 횟수
# #홀수 일때 C로 먼저
# 3
# 1 3  .
# 1 2
# 3 2
# 1 3  . # 중간 3을 c에
# 2 1
# 2 3
# 1 3  .
# # 짝수일 때 B로 먼저
# 4
# 1 2 .
# 1 3
# 2 3
# 1 2 .
# 3 1
# 3 2
# 1 2 .
# 1 3 # 4를 c에 깜
# 2 3 . # 중간에 321 이전거 이써
# 2 1
# 3 1
# 2 3 .
# 1 2
# 1 3
# 2 3 .

# 5
# 1 3 .
# 1 2
# 3 2
# 1 3 .
# 2 1
# 2 3
# 1 3 .  C 에 321
# 1 2    B 로 4 이동
# 3 2 .
# 3 1
# 2 1
# 3 2 .
# 1 3
# 1 2
# 3 2 .  B 에 4321
# 1 3    # 5가 C로 이동
# 2 1 .
# 2 3
# 1 3
# 2 1 .
# 3 2
# 3 1
# 2 1 . #
# 2 3   # 4가 c로 이동
# 1 3 .
# 1 2
# 3 2
# 1 3 .
# 2 1
# 2 3
# 1 3 .
